# Friday 2.0 - Environment Variables Template
# Story 1.12 - Configuration backup chiffré + sync PC
# IMPORTANT: Copier ce fichier vers .env et remplir les valeurs

# ============================================
# PostgreSQL Database
# ============================================
POSTGRES_DB=friday
POSTGRES_USER=friday
POSTGRES_PASSWORD=changeme_secure_password_here

# ============================================
# Redis
# ============================================
REDIS_PASSWORD=changeme_redis_password_here
REDIS_GATEWAY_PASSWORD=changeme_gw_password_here
REDIS_BOT_PASSWORD=changeme_bot_password_here
REDIS_EMAILENGINE_PASSWORD=changeme_emailengine_password_here

# ============================================
# n8n Workflow Automation
# ============================================
N8N_HOST=n8n.friday.local
N8N_ENCRYPTION_KEY=changeme_32_chars_encryption_key_here

# ============================================
# API Security
# ============================================
API_TOKEN=changeme_api_token_here

# ============================================
# LLM Provider - Claude Sonnet 4.5 (D17)
# ============================================
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# ============================================
# Embeddings Provider - Voyage AI (Story 6.2)
# ============================================
# Voyage AI API Key - voyage-4-large (1024 dims, multilingual)
# Obtenir sur: https://www.voyageai.com/
# Plan: Pay-as-you-go (~$0.06/1M tokens batch API)
VOYAGE_API_KEY=your_voyage_api_key_here

# Provider configuration (extensible: voyage, openai, cohere, ollama)
EMBEDDING_PROVIDER=voyage
EMBEDDING_DIMENSIONS=1024

# ============================================
# Memorystore Provider (Story 6.3)
# ============================================
# Memorystore backend for knowledge graph
# Day 1: postgresql (Decision D19)
# Future options: graphiti (future, if mature ~august 2026), neo4j (future), qdrant (if >300k vectors)
MEMORYSTORE_PROVIDER=postgresql

# ============================================
# Telegram Bot (Story 1.9)
# ============================================
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_SUPERGROUP_ID=-1001234567890
OWNER_USER_ID=123456789

# Thread IDs des 5 topics Telegram
TOPIC_CHAT_PROACTIVE_ID=2
TOPIC_EMAIL_ID=3
TOPIC_ACTIONS_ID=4
TOPIC_SYSTEM_ID=5
TOPIC_METRICS_ID=6

# ============================================
# Backup & Encryption (Story 1.12)
# ============================================

# age Public Key - Utilisée pour chiffrer les backups sur VPS
# Générer avec: bash scripts/generate-age-keypair.sh
# Format: age1<base64> (62-64 caractères)
# ⚠️  Clé PUBLIQUE uniquement ici (la clé PRIVÉE reste sur PC)
AGE_PUBLIC_KEY=age1xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Tailscale - Sync backups vers PC Mainteneur
# Hostname Tailscale du PC (voir: tailscale status)
TAILSCALE_PC_HOSTNAME=mainteneur-pc

# ============================================
# EmailEngine - Email IMAP/SMTP Interface (Story 2.1)
# ============================================

# EmailEngine Secret - Clé secrète pour l'API EmailEngine (32+ caractères)
# Générer avec: openssl rand -hex 32
EMAILENGINE_SECRET=changeme_emailengine_secret_32_chars_minimum_here

# EmailEngine Encryption Key - Clé pour chiffrer credentials IMAP stockés
# Générer avec: openssl rand -hex 32
EMAILENGINE_ENCRYPTION_KEY=changeme_emailengine_encryption_key_32_chars_here

# ============================================
# Comptes IMAP (Story 2.1 - AC1)
# IMPORTANT: Credentials stockés dans .env.enc chiffré SOPS
# Ne PAS mettre de vrais credentials ici
# ============================================

# Compte 1 - Cabinet SELARL (médical)
# IMAP_MEDICAL_HOST=imap.example.com
# IMAP_MEDICAL_PORT=993
# IMAP_MEDICAL_USER=your_email@example.com
# IMAP_MEDICAL_PASSWORD=your_password

# Compte 2 - Faculté (enseignement)
# IMAP_FACULTY_HOST=imap.example.com
# IMAP_FACULTY_PORT=993
# IMAP_FACULTY_USER=your_email@example.com
# IMAP_FACULTY_PASSWORD=your_password

# Compte 3 - Recherche (thèses)
# IMAP_RESEARCH_HOST=imap.example.com
# IMAP_RESEARCH_PORT=993
# IMAP_RESEARCH_USER=your_email@example.com
# IMAP_RESEARCH_PASSWORD=your_password

# Compte 4 - Personnel
# IMAP_PERSONAL_HOST=imap.example.com
# IMAP_PERSONAL_PORT=993
# IMAP_PERSONAL_USER=your_email@example.com
# IMAP_PERSONAL_PASSWORD=your_password

# ============================================
# Webhook Security (Story 2.1 - AC2)
# ============================================

# Webhook Secret - Pour signature HMAC-SHA256 webhooks EmailEngine → Gateway
# Générer avec: openssl rand -hex 32
WEBHOOK_SECRET=changeme_webhook_secret_32_chars_minimum_here

# ============================================
# Attachments Storage (Story 2.4)
# ============================================

# Chemin local pour stocker les pièces jointes extraites
# Phase 1 (Day 1): PC Mainteneur - créer le dossier manuellement
# Phase 2 (futur): Migration vers NAS Synology DS725+
# Windows: C:\Friday\attachments
# Linux: /home/user/friday/attachments
ATTACHMENTS_STORAGE_PATH=C:\Friday\attachments

# ============================================
# Monitoring & Logging
# ============================================
LOG_LEVEL=INFO
ENVIRONMENT=production

# ============================================
# NOTES IMPORTANTES
# ============================================
# 1. Ce fichier (.env.example) est un TEMPLATE - Ne pas y mettre de vraies valeurs
# 2. Copier vers .env et remplir avec vraies valeurs
# 3. .env est dans .gitignore - Ne JAMAIS commiter les vraies valeurs
# 4. Pour secrets en production : Utiliser .env.enc chiffré avec SOPS
#    Voir: docs/secrets-management.md
# 5. Clé privée age : Stocker sur PC uniquement
#    Voir: docs/age-private-key-storage-guide.md
